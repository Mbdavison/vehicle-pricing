{% extends "base.html" %}

{% block content %}
<h2>Upload Historical Sales</h2>
<p class="small">
    Upload a CSV or Excel file of sold vehicles. The system will skip rows with missing VIN or missing year.
</p>

{% if message %}
<div class="flash-message flash-success">
    {{ message }}
</div>
{% endif %}

{% if error %}
<div class="flash-message flash-error">
    {{ error }}
</div>
{% endif %}

<form method="post" action="/upload-history" enctype="multipart/form-data">
    <div class="field">
        <label for="file">File (CSV or Excel)</label>
        <input type="file" id="file" name="file" required>
    </div>

    <div class="field">
        <label for="state">Default State (optional)</label>
        <input type="text" id="state" name="state" placeholder="e.g. Colorado">
    </div>

    <div class="field">
        <label for="company">Default Company (optional)</label>
        <input type="text" id="company" name="company" placeholder="e.g. Donated">
    </div>

    <button type="submit">Upload</button>
</form>

<div class="mt-4 small">
    Notes:
    <ul>
        <li>VIN and Year are required (rows without them are skipped).</li>
        <li>If your file has columns like <code>Title</code>, the tool will try to infer year/make/model from it.</li>
        <li>State and Company can be taken from the file or from the fields above.</li>
    </ul>
</div>
{% endblock %}

